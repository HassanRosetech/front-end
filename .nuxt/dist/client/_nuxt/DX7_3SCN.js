import{j as P,av as c,au as F,_ as w,r as g,o as i,c as a,a as t,E as C,m as p,t as f,i as B,y as h,F as v,k as m,b as y,v as _,l as S}from"./BHCayY3x.js";import{s as q}from"./yO5_ytp3.js";import{p as D}from"./DfpWEFeF.js";import{o as j}from"./CrigKH5m.js";import{u}from"./DfJFqEAz.js";const T={components:{shopFilterbar:q,options:j,productBox1:D},props:["setCardsLayout","filterbarPosition","filterBarClasses","filterHide"],data(){return{cardsLayout:4,pages:[],cardsToShow:12,totalCards:8,currentPage:1,totalPages:2,selectedDiscount:0,selectedColorsList:[]}},methods:{changePage(s){s>0&&s<=this.totalPages&&(this.currentPage=s,this.calculatePages())},calculatePages(){this.pages=[];var s,e;this.currentPage==1?(s=1,e=4):(s=this.currentPage-1,e=this.currentPage+2);for(var l=s;l<e;l++)l<=this.totalPages&&this.pages.push(l)},toggleFilterBar(){P().toggleFilterBar()},removeFilter(s){u().removeFilter(s)},clearAllFilters(){u().clearAllFilters(),this.$router.push((this._.provides[c]||this.$route).path)},changeCardLayout(s){this.cardsLayout=s},changeProductsPerPage(s){this.cardsToShow=s,this.totalPages=Math.ceil(this.cards.length/this.cardsToShow),this.calculatePages()}},computed:{cards(){return u().cardsToReturn},...F(u,{showFilters:"showFilters",filtersList:"filtersList",appliedFiltersList:"appliedFilters"})},watch:{cards:function(){this.totalPages=Math.ceil(this.cards.length/this.cardsToShow),this.changePage(1)},selectedDiscount:function(){u().filterDiscount(this.selectedDiscount),this.$router.push({path:(this._.provides[c]||this.$route).path,query:{...(this._.provides[c]||this.$route).query,discount:this.selectedDiscount}})},selectedColorsList:function(){u().setColorsList(this.selectedColorsList),this.$router.push({path:(this._.provides[c]||this.$route).path,query:{...(this._.provides[c]||this.$route).query,colors:this.selectedColorsList}})}},mounted(){u().setCategory(this.category);var s=(this._.provides[c]||this.$route).query.colors;typeof s=="string"?this.selectedColorsList.push(s):typeof s=="object"?this.selectedColorsList=s:this.selectedColorsList=[],this.selectedDiscount=(this._.provides[c]||this.$route).query.discount===void 0?0:(this._.provides[c]||this.$route).query.discount,this.setCardsLayout!=null&&(this.cardsLayout=this.setCardsLayout)}},A={class:"section-b-space"},R={class:"container"},x={class:"row"},H={class:"col-lg-12 col-12 ratio_30"},M={key:0,class:"hide-button d-flex mb-3"},N={class:"d-lg-inline-block"},V={class:"row g-4"},E={key:0,class:"col-12"},z={class:"short-name"},G={class:"label-tag"},I=["onClick"],J={key:0,class:"label-tag"},K={class:"page-section"},O={class:"pagination"},Q={class:"page-item"},U=["onClick"],W={class:"page-item"};function X(s,e,l,Y,n,r){const L=g("options"),k=g("productBox1"),b=g("shopFilterbar");return i(),a("section",A,[t("div",R,[t("div",x,[t("div",H,[C(s.$slots,"topFilters"),C(s.$slots,"topBanner"),l.filterHide?(i(),a("div",M,[t("button",{class:"btn hide-btn",onClick:e[0]||(e[0]=p((...o)=>r.toggleFilterBar&&r.toggleFilterBar(...o),["prevent"]))},[t("span",N,f(("useRuntimeConfig"in s?s.useRuntimeConfig:B(P))().public.const.HideFilter),1)])])):h("",!0),t("div",V,[s.filtersList.length!=0?(i(),a("div",E,[t("ul",z,[(i(!0),a(v,null,m(s.filtersList,(o,d)=>(i(),a("li",{key:d},[t("div",G,[t("span",null,f(o),1),t("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:Z=>r.removeFilter(o)},null,8,I)])]))),128)),t("li",null,[s.filtersList.length!=0?(i(),a("div",J,[t("a",{href:"javascript:void(0)",onClick:e[1]||(e[1]=p((...o)=>r.clearAllFilters&&r.clearAllFilters(...o),["prevent"]))},e[4]||(e[4]=[t("span",null,"Clear All",-1)]))])):h("",!0)])])])):h("",!0),y(L,{setCardsLayout:l.setCardsLayout,onChangeCardLayout:r.changeCardLayout,onChangeProductsPerPage:r.changeProductsPerPage},null,8,["setCardsLayout","onChangeCardLayout","onChangeProductsPerPage"])]),t("div",{class:_(["row g-sm-4 g-3 gx-sm-4 gx-3 mt-1 custom-gy-5 product-style-2 ratio_asos product-list-section",[{"row-cols-2":n.cardsLayout==2},{"row-cols-md-3 row-cols-2":n.cardsLayout==3},{"row-cols-xl-4 row-cols-md-3 row-cols-2":n.cardsLayout==4},{"row-cols-xl-5 row-cols-lg-4 row-cols-md-3 row-cols-2 ":n.cardsLayout==5},{"list-style":n.cardsLayout==6}]])},[(i(!0),a(v,null,m(r.cards,(o,d)=>(i(),a("div",{key:d},[y(k,{product:o},null,8,["product"])]))),128))],2),t("nav",K,[t("ul",O,[t("li",Q,[t("a",{href:"javascript:void(0)",class:"page-link",onClick:e[2]||(e[2]=o=>r.changePage(n.currentPage-1))},e[5]||(e[5]=[t("i",{class:"fas fa-chevron-left"},null,-1)]))]),(i(!0),a(v,null,m(n.pages,o=>(i(),a("li",{class:_(["page-item",o===n.currentPage?"active":""]),key:o},[t("a",{class:"page-link",href:"javascript:void(0)",onClick:p(d=>r.changePage(o),["prevent"])},f(o),9,U)],2))),128)),t("li",W,[t("a",{href:"javascript:void(0)",class:"page-link",onClick:e[3]||(e[3]=o=>r.changePage(n.currentPage+1))},e[6]||(e[6]=[t("i",{class:"fas fa-chevron-right"},null,-1)]))])])])]),l.filterbarPosition==="right"?(i(),S(b,{key:0,filterBarClasses:l.filterBarClasses},null,8,["filterBarClasses"])):h("",!0)])])])}const rs=w(T,[["render",X]]);export{rs as s};
