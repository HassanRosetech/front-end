import{au as p,av as h}from"./BCKidhl8.js";function E(t){const{effect:a,swiper:e,on:o,setTranslate:d,setTransition:i,overwriteParams:r,perspective:s,recreateShadows:n,getEffectParams:m}=t;o("beforeInit",()=>{if(e.params.effect!==a)return;e.classNames.push(`${e.params.containerModifierClass}${a}`),s&&s()&&e.classNames.push(`${e.params.containerModifierClass}3d`);const l=r?r():{};Object.assign(e.params,l),Object.assign(e.originalParams,l)}),o("setTranslate",()=>{e.params.effect===a&&d()}),o("setTransition",(l,c)=>{e.params.effect===a&&i(c)}),o("transitionEnd",()=>{if(e.params.effect===a&&n){if(!m||!m().slideShadows)return;e.slides.forEach(l=>{l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(c=>c.remove())}),n()}});let f;o("virtualUpdate",()=>{e.params.effect===a&&(e.slides.length||(f=!0),requestAnimationFrame(()=>{f&&e.slides&&e.slides.length&&(d(),f=!1)}))})}function g(t,a){const e=p(a);return e!==a&&(e.style.backfaceVisibility="hidden",e.style["-webkit-backface-visibility"]="hidden"),e}function T({swiper:t,duration:a,transformElements:e,allSlides:o}){const{activeIndex:d}=t;if(t.params.virtualTranslate&&a!==0){let i=!1,r;r=e,r.forEach(s=>{h(s,()=>{if(i||!t||t.destroyed)return;i=!0,t.animating=!1;const n=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(n)})})}}function b({swiper:t,extendParams:a,on:e}){a({fadeEffect:{crossFade:!1}}),E({effect:"fade",swiper:t,on:e,setTranslate:()=>{const{slides:i}=t,r=t.params.fadeEffect;for(let s=0;s<i.length;s+=1){const n=t.slides[s];let f=-n.swiperSlideOffset;t.params.virtualTranslate||(f-=t.translate);let l=0;t.isHorizontal()||(l=f,f=0);const c=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(n.progress),0):1+Math.min(Math.max(n.progress,-1),0),u=g(r,n);u.style.opacity=c,u.style.transform=`translate3d(${f}px, ${l}px, 0px)`}},setTransition:i=>{const r=t.slides.map(s=>p(s));r.forEach(s=>{s.style.transitionDuration=`${i}ms`}),T({swiper:t,duration:i,transformElements:r,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}export{b as E};
